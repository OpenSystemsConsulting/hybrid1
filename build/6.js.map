{"version":3,"sources":["../../src/pages/pda/pda.module.ts","../../src/pages/pda/pda.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AAChB;AAahC;IAAA;IAA4B,CAAC;IAAhB,aAAa;QAXzB,+DAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,qDAAO;aACR;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,qDAAO,CAAC;aAClC;YACD,OAAO,EAAE;gBACP,qDAAO;aACV;SACA,CAAC;OACW,aAAa,CAAG;IAAD,oBAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACfgB;AAC0D;AAEnB;AAC5B;AACc;AACrB;AAEwC;AACT;AACkB;AAET;AACA;AAItC;AAIhD;;;;;GAKG;AAOH;IAwCE,iBAAmB,OAAsB,EAChC,SAAoB,EAAS,OAA8B,EAAU,aAAoC,EACxG,SAAmC,EAAU,MAA0B,EACvE,aAAoC,EAAU,gBAAqC,EACnF,SAA0B,EAAU,GAAiB,EACrD,GAAQ,EAAS,QAAkB,EAAU,MAAc;QALrE,iBAgBC;QAhBkB,YAAO,GAAP,OAAO,CAAe;QAChC,cAAS,GAAT,SAAS,CAAW;QAAS,YAAO,GAAP,OAAO,CAAuB;QAAU,kBAAa,GAAb,aAAa,CAAuB;QACxG,cAAS,GAAT,SAAS,CAA0B;QAAU,WAAM,GAAN,MAAM,CAAoB;QACvE,kBAAa,GAAb,aAAa,CAAuB;QAAU,qBAAgB,GAAhB,gBAAgB,CAAqB;QACnF,cAAS,GAAT,SAAS,CAAiB;QAAU,QAAG,GAAH,GAAG,CAAc;QACrD,QAAG,GAAH,GAAG,CAAK;QAAS,aAAQ,GAAR,QAAQ,CAAU;QAAU,WAAM,GAAN,MAAM,CAAQ;QA5CrE,MAAC,GAAS,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC;QAC9B,cAAS,GAAG,QAAQ,CAAC,SAAS,CAAC;QAG/B,kBAAa,GAAY,IAAI,CAAC;QAM9B,cAAS,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa,EAAE,CAAC;QAC3C,sBAAiB,GAAG,EAAE,CAAC;QACvB,gBAAW,GAAG,CAAC,CAAC;QAEhB,cAAS,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,EAAE,MAAM,EAAE,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,EAAE,EAAE,EAAE,SAAS,EAAE,CAAC;QACtG,QAAG,GAAG,IAAI,CAAC,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAC9C,YAAO,GAAG;YACR,OAAO,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,iBAAiB,EAAE,IAAI,CAAC,SAAS,CAAC,QAAQ,EAAE,sBAAsB,EAAE,GAAG,EAAE,yBAAyB,EAAE,GAAG,EAAE,CAAC,EAAE;SAChI,CAAC;QACF,YAAO,GAAwB;YAC7B,QAAQ,EAAE,KAAK;YACf,MAAM,EAAE,IAAI;YACZ,UAAU,EAAE,KAAK;YACjB,iBAAiB,EAAE,KAAK;YACxB,IAAI,EAAE,KAAK;YACX,YAAY,EAAE,KAAK;YACnB,+BAA+B,EAAE,IAAI;YACrC,oBAAoB,EAAE,IAAI;YAC1B,kBAAkB,EAAE,OAAO;YAC3B,kBAAkB,EAAE,IAAI;YACxB,OAAO,EAAE,KAAK;YACd,mBAAmB,EAAE,IAAI;YACzB,wBAAwB,EAAE,IAAI;YAC9B,iBAAiB,EAAE,WAAW;YAC9B,UAAU,EAAE,KAAK;SAClB,CAAC;QAkDF,yBAAoB,GAAG,UAAC,MAAM,EAAE,IAAI;YAClC,KAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,SAAS,CAAC,UAAC,OAAO;gBACnD,KAAI,CAAC,GAAG,CAAC,IAAI,CAAC,6CAA6C,GAAG,OAAO,CAAC,CAAC;gBACvE,KAAI,CAAC,iBAAiB,GAAG,OAAO,CAAC;gBACjC,KAAI,CAAC,WAAW,GAAG,OAAO,CAAC,MAAM,CAAC;gBAClC,sDAAsD;gBACtD,EAAE,CAAC,CAAC,OAAO,CAAC,MAAM,IAAI,CAAC,CAAC,CAAC,CAAC;oBACxB,KAAI,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC,CAAC,CAAC;oBAChC,IAAI,MAAM,GAAG,KAAI,CAAC,SAAS,CAAC,SAAS,EAAE,CAAC,QAAQ,CAAC;oBACjD,sBAAsB;oBACtB,EAAE,CAAC,CAAC,KAAI,CAAC,QAAQ,IAAI,MAAM,CAAC,CAAC,CAAC;wBAC5B,IAAI,OAAK,GAAG,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC;4BAChC,KAAK,EAAE,QAAQ;4BACf,OAAO,EAAE,2DAA2D;4BACpE,OAAO,EAAE;gCACP;oCACE,IAAI,EAAE,IAAI;iCACX;6BACF;4BACD,qBAAqB,EAAE,KAAK;yBAC7B,CAAC,CAAC;wBACH,OAAK,CAAC,OAAO,EAAE,CAAC;wBAChB,KAAI,CAAC,aAAa,GAAG,KAAK,CAAC;oBAE7B,CAAC;oBAAC,IAAI;wBACJ,KAAI,CAAC,aAAa,GAAG,IAAI,CAAC;gBAE9B,CAAC;gBAAC,IAAI;oBACJ,KAAI,CAAC,aAAa,GAAG,IAAI,CAAC;gBAE5B,kGAAkG;gBAClG,IAAI,mBAAmB,GAAG,KAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,CAAC,CAAE,0BAA0B;gBAChF,EAAE,CAAC,CAAC,mBAAmB,CAAC,CAAC,CAAC;oBACxB,EAAE,CAAC,CAAC,mBAAmB,CAAC,uBAAuB,IAAI,GAAG,CAAC,CAAC,CAAC;wBACvD,mBAAmB,CAAC,uBAAuB,GAAG,GAAG,CAAC;wBAClD,mBAAmB,CAAC,sBAAsB,GAAG,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC;wBACtE,KAAI,CAAC,gBAAgB,CAAC,MAAM,CAAC,mBAAmB,CAAC,CAAC,SAAS,EAAE,CAAC;wBAC9D,KAAI,CAAC,aAAa,CAAC,uBAAuB,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;oBACxD,CAAC;oBAED,EAAE,CAAC,CAAC,CAAC,KAAI,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC,CAAC;wBACvC,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,eAAe,EAAE,mBAAmB,CAAC,qBAAqB,CAAC,CAAC,IAAI,CAAC,UAAC,GAAG;4BACpF,EAAE,CAAC,CAAC,GAAG,CAAC;gCACN,OAAO,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;4BACtC,IAAI;gCACF,OAAO,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAC;wBAC5C,CAAC,CAAC,CAAC;oBACL,CAAC;oBACD,KAAI,CAAC,GAAG,CAAC,IAAI,CAAC,2CAA2C,GAAG,mBAAmB,CAAC,qBAAqB,CAAC,CAAC;oBACvG,YAAY,CAAC,OAAO,CAAC,eAAe,EAAE,mBAAmB,CAAC,qBAAqB,CAAC,CAAC;oBACjF,YAAY,CAAC,OAAO,CAAC,eAAe,EAAE,mBAAmB,CAAC,qBAAqB,CAAC,CAAC;oBACjF,EAAE,CAAC,CAAC,CAAC,KAAI,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC,CAAC;wBACvC,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,eAAe,EAAE,mBAAmB,CAAC,qBAAqB,CAAC,CAAC,IAAI,CAAC,UAAC,GAAG;4BACpF,EAAE,CAAC,CAAC,GAAG,CAAC;gCACN,OAAO,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;4BACtC,IAAI;gCACF,OAAO,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAC;wBAC5C,CAAC,CAAC,CAAC;oBACL,CAAC;oBAED,KAAI,CAAC,GAAG,CAAC,IAAI,CAAC,2CAA2C,GAAG,mBAAmB,CAAC,qBAAqB,CAAC,CAAC;gBAEzG,CAAC;gBAED,EAAE,CAAC,CAAC,KAAI,CAAC,aAAa,IAAI,IAAI,CAAC,CAAC,CAAC;oBAC/B,KAAI,CAAC,SAAS,CAAC,aAAa,CAAC,KAAI,CAAC,QAAQ,CAAC,CAAC;oBAC5C,KAAI,CAAC,SAAS,CAAC,YAAY,EAAE,CAAC;oBAC9B,YAAY,CAAC,OAAO,CAAC,YAAY,EAAE,OAAO,CAAC,CAAC;oBAC5C,KAAI,CAAC,GAAG,CAAC,UAAU,EAAE,CAAC,OAAO,CAAC,UAAU,CAAC,CAAC;oBAC1C,MAAM,CAAC;gBACT,CAAC;YACH,CAAC,CAAC,CAAC;YACH,WAAW;QACb,CAAC,CAAC;QAGF,uBAAkB,GAAG;YACnB,EAAE,CAAC,CAAC,KAAI,CAAC,UAAU,KAAK,OAAO,CAAC,CAAC,CAAC;gBAChC,IAAI,OAAK,GAAG,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC;oBAChC,KAAK,EAAE,eAAe;oBACtB,OAAO,EAAE,wEAAwE;oBACjF,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,SAAS;4BACf,OAAO,EAAE;gCACP,YAAY,CAAC,KAAK,EAAE,CAAC;gCACrB,EAAE,CAAC,CAAC,CAAC,KAAI,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC,CAAC;oCACvC,KAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC;oCAErB,EAAE,CAAC,CAAC,KAAI,CAAC,GAAG,CAAC,EAAE,CAAC,SAAS,CAAC,IAAU,MAAO,CAAC,YAAY,CAAC;wCACvD,KAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC;gCAC3B,CAAC;gCAED,KAAI,CAAC,GAAG,CAAC,UAAU,EAAE,CAAC,OAAO,CAAC,kEAAK,CAAC,CAAC;4BACvC,CAAC;yBACF;wBACD;4BACE,IAAI,EAAE,QAAQ;4BACd,OAAO,EAAE;gCACP,gCAAgC;gCAChC,MAAM,CAAC;4BACT,CAAC;yBACF;qBACF;oBACD,qBAAqB,EAAE,KAAK;iBAC7B,CAAC,CAAC;gBACH,OAAK,CAAC,OAAO,EAAE,CAAC;YAClB,CAAC;YACD,IAAI,CAAC,CAAC;gBAEJ,IAAI,OAAK,GAAG,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC;oBAChC,KAAK,EAAE,UAAU;oBACjB,OAAO,EAAE,mCAAmC;oBAC5C,MAAM,EAAE;wBACN;4BACE,IAAI,EAAE,WAAW;4BACjB,WAAW,EAAE,WAAW;yBACzB;qBACF;oBACD,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,QAAQ;4BACd,OAAO,EAAE;gCACP,gCAAgC;gCAChC,MAAM,CAAC;4BACT,CAAC;yBACF;wBACD;4BACE,IAAI,EAAE,QAAQ;4BACd,OAAO,EAAE,UAAC,IAAI;gCAEZ,KAAI,CAAC,YAAY,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;4BACpC,CAAC;yBACF;qBACF;oBACD,qBAAqB,EAAE,KAAK;iBAC7B,CAAC,CAAC;gBACH,OAAK,CAAC,OAAO,EAAE,CAAC;YAClB,CAAC;QACH,CAAC,mCAAiC;QAElC,iBAAY,GAAG,UAAC,QAAQ;YACtB,sBAAsB;YACtB,EAAE,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;gBACpB,IAAI,OAAK,GAAG,KAAI,CAAC,SAAS,CAAC,MAAM,CAAC;oBAChC,KAAK,EAAE,QAAQ;oBACf,OAAO,EAAE,iCAAiC;oBAC1C,OAAO,EAAE;wBACP;4BACE,IAAI,EAAE,IAAI;yBACX;qBACF;oBACD,qBAAqB,EAAE,KAAK;iBAC7B,CAAC,CAAC;gBACH,OAAK,CAAC,OAAO,EAAE,CAAC;gBAChB,MAAM,CAAC;YACT,CAAC;YACD,KAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;YAEzB,8BAA8B;YAC9B,EAAE,CAAC,CAAC,CAAC,KAAI,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC,CAAC;gBACvC,KAAI,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,KAAI,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,UAAC,GAAG;oBACnD,EAAE,CAAC,CAAC,GAAG,CAAC;wBACN,OAAO,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;oBACjC,IAAI;wBACF,OAAO,CAAC,GAAG,CAAC,qBAAqB,CAAC,CAAC;gBACvC,CAAC,CAAC,CAAC;YACL,CAAC;YACD,KAAI,CAAC,GAAG,CAAC,IAAI,CAAC,sCAAsC,GAAG,KAAI,CAAC,QAAQ,CAAC,CAAC;YAEtE,KAAI,CAAC,SAAS,CAAC,aAAa,CAAC,KAAI,CAAC,QAAQ,CAAC,CAAC;YAC5C,sGAAsG;YACtG,oFAAoF;YACpF,4CAA4C;YAC5C,IAAI,UAAU,GAAG;gBACf,OAAO,EAAE,EAAE,GAAG,EAAE,CAAC,EAAE,iBAAiB,EAAE,KAAI,CAAC,QAAQ,EAAE,sBAAsB,EAAE,GAAG,EAAE,yBAAyB,EAAE,EAAE,GAAG,EAAE,GAAG,EAAE,EAAE,CAAC,EAAE;aAC/H,CAAC;YACF,KAAI,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,UAAU,CAAC,CAAC;YAC5C,KAAI,CAAC,oBAAoB,CAAC,KAAI,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;YAC7C,KAAI,CAAC,GAAG,CAAC,IAAI,CAAC,2CAA2C,GAAG,IAAI,CAAC,SAAS,CAAC,KAAI,CAAC,MAAM,CAAC,CAAC,CAAC;QAE3F,CAAC,4BAA0B;QAG3B,mBAAc,GAAG;YACf,IAAI,CAAC,WAAW,CAAC,UAAU,EAAE,CAAC;QAChC,CAAC;QAED,iBAAY,GAAG;YACb,IAAI,CAAC,WAAW,CAAC,eAAe,EAAE,CAAC;QACrC,CAAC;QAED,UAAK,GAAG;YACN,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC;YAC7B,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;YACnC,+CAA+C;YAC/C,IAAI,CAAC,cAAc,CAAC,gBAAgB,EAAE,CAAC;QACzC,CAAC;QAED,WAAM,GAAG;YACP,IAAI,CAAC,SAAS,CAAC,YAAY,EAAE,CAAC;YAC9B,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;QACtC,CAAC;QAlPC,IAAI,CAAC,QAAQ,GAAG,SAAS,CAAC,IAAI,CAAC;QAC/B,mEAAc,CAAC,UAAU,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;QACrD,mEAAc,CAAC,aAAa,CAAC,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC;QAC7D,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC;QACxC,EAAE,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,aAAa,CAAC,SAAS,CAAC,IAAI,WAAW,CAAC;YACvD,IAAI,CAAC,aAAa,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa,EAAE,CAAC;QAChE,IAAI,CAAC,UAAU,GAAG,YAAY,CAAC,OAAO,CAAC,YAAY,CAAC,CAAC;QACrD,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;QAC/C,IAAI,CAAC,GAAG,GAAG,QAAQ,CAAC;IAEtB,CAAC;IAED,kCAAgB,GAAhB;QACE,sCAAsC;QACtC,IAAI,CAAC,aAAa,CAAC,GAAG,GAAG,KAAK,CAAC;QAC/B,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,iBAAiB,CAAC,CAAC;QACjC,IAAI,CAAC,oBAAoB,CAAC,IAAI,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;IACjD,CAAC;IAED,gCAAc,GAAd,UAAe,GAAG;QAAlB,iBAmBC;QAlBC,gCAAgC;QAChC,IAAI,MAAM,CAAC;QAEX,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC,UAAC,WAAW;YAChC,KAAI,CAAC,UAAU,GAAG,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC;YACvC,EAAE,CAAC,CAAC,KAAI,CAAC,UAAU,IAAI,IAAI,CAAC,CAAC,CAAC;gBAE5B,KAAI,CAAC,UAAU,GAAG,KAAI,CAAC,UAAU,CAAC,WAAW,EAAE,CAAC;gBAChD,EAAE,CAAC,CAAC,KAAI,CAAC,UAAU,CAAC,aAAa,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;oBAC5C,MAAM,GAAG,QAAQ,CAAC,wBAAuB;gBAC3C,IAAI;oBACF,MAAM,GAAG,SAAS,CAAC,yBAAwB;YAC/C,CAAC;YACD,IAAI;gBACF,MAAM,GAAG,QAAQ,CAAC;YAEpB,KAAI,CAAC,GAAG,CAAC,MAAM,CAAC,GAAG,EAAE,MAAM,EAAE,KAAI,CAAC,OAAO,CAAC,CAAC;QAC7C,CAAC,CAAC,CAAC;IACL,CAAC;IApFU,OAAO;QAJnB,gEAAS,CAAC;YACT,QAAQ,EAAE,UAAU;WACG;SACxB,CAAC;sLAyC4B,yGAAa;YACrB,gHAA2B,gGAA8C,CAAqB;YAC7F,0LAA0C,CAAkB;YACxD,0JAAiD,CAAmB;YACxE,6HAAe,oEAAe,EAAY;YAChD,GAAG,CAAmD;OA7C1D,OAAO,CAkSnB;IAAD,CAAC;AAAA;SAlSY,OAAO,e","file":"6.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { PdaPage } from './pda';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    PdaPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(PdaPage),\r\n  ],\r\n  exports: [\r\n    PdaPage\r\n]\r\n})\r\nexport class PdaPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/pda/pda.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, AlertController, Tab, Tabs, App, Platform } from 'ionic-angular';\r\n\r\nimport { InAppBrowser, InAppBrowserOptions } from '@ionic-native/in-app-browser';\r\nimport { LoopBackConfig } from '../../../shared/sdk';\r\nimport { TpmPdaControllerApi } from '../../../shared/sdk/services';\r\nimport { Device } from '@ionic-native/device';\r\n\r\nimport { ConfigServiceProvider } from '../../providers/config-service/config-service';\r\nimport { LogServiceProvider } from '../../providers/log-service/log-service';\r\nimport { PdaparamsServiceProvider } from '../../providers/pdaparams-service/pdaparams-service';\r\n\r\nimport { SharedServiceProvider } from '../../providers/shared-service/shared-service';\r\nimport { SqliteServiceProvider } from '../../providers/sqlite-service/sqlite-service';\r\n\r\n\r\n\r\nimport { MyApp } from '../../app/app.component';\r\n\r\n\r\ndeclare const lbclient: any;\r\n/*\r\n * Generated class for the PdaPage page.\r\n *\r\n * See http://ionicframework.com/docs/components/#navigation for more info\r\n * on Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-pda',\r\n  templateUrl: 'pda.html',\r\n})\r\nexport class PdaPage {\r\n  t: Tabs = this.navCtrl.parent;\r\n  clientlog = lbclient.clientlog;\r\n  username: any;\r\n  filter;\r\n  isDriverSetup: boolean = true;\r\n  driverId;\r\n  userId;\r\n  firstlogin;\r\n  login;\r\n  driverInfo;\r\n  loginFlag = this.pdaParams.isDrvLoggedOn();\r\n  TpmPdaControllers = [];\r\n  TpmRowCount = 0;\r\n  newMessageCount: number;\r\n  logParams = { site: this.pdaParams.getSiteId(), driver: this.pdaParams.getDriverId(), fn: 'PdaPage' };\r\n  log = this.logger.getInstance(this.logParams);\r\n  _filter = {\r\n    \"where\": { and: [{ \"tpmpc_driver_id\": this.pdaParams.driverId, \"tpmpc_access_allowed\": 'Y', \"tpmpc_access_registered\": 'Y' }] }\r\n  };\r\n  options: InAppBrowserOptions = {\r\n    location: 'yes',//Or 'no' \r\n    hidden: 'no', //Or  'yes'\r\n    clearcache: 'yes',\r\n    clearsessioncache: 'yes',\r\n    zoom: 'yes',//Android only ,shows browser zoom controls \r\n    hardwareback: 'yes',\r\n    mediaPlaybackRequiresUserAction: 'no',\r\n    shouldPauseOnSuspend: 'no', //Android only \r\n    closebuttoncaption: 'Close', //iOS only\r\n    disallowoverscroll: 'no', //iOS only \r\n    toolbar: 'yes', //iOS only \r\n    enableViewportScale: 'no', //iOS only \r\n    allowInlineMediaPlayback: 'no',//iOS only \r\n    presentationstyle: 'pagesheet',//iOS only \r\n    fullscreen: 'yes',//Windows only    \r\n  };\r\n  plt;\r\n  osplatform;\r\n\r\n  constructor(public navCtrl: NavController,\r\n    public navParams: NavParams, public storage: SqliteServiceProvider, private configService: ConfigServiceProvider,\r\n    private pdaParams: PdaparamsServiceProvider, private logger: LogServiceProvider,\r\n    private sharedService: SharedServiceProvider, private TpmPdaController: TpmPdaControllerApi,\r\n    private alertCtrl: AlertController, private iab: InAppBrowser,\r\n    private app: App, public platform: Platform, private device: Device) {\r\n    this.username = navParams.data;\r\n    LoopBackConfig.setBaseURL(this.configService.apiURL);\r\n    LoopBackConfig.setApiVersion(this.configService.API_VERSION);\r\n    this.driverId = this.pdaParams.driverId;\r\n    if (typeof (this.sharedService.loginFlag) == 'undefined')\r\n      this.sharedService.loginFlag = this.pdaParams.isDrvLoggedOn();\r\n    this.firstlogin = localStorage.getItem('firstlogin');\r\n    this.getTpmPdaControllers(this._filter, false);\r\n    this.plt = platform;\r\n\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    //set the tab string in shared-service\r\n    this.sharedService.tab = \"PDA\";\r\n    this.log.info(\"In the PDA Tab.\");\r\n    this.getTpmPdaControllers(this._filter, false);\r\n  }\r\n\r\n  openPrivacyUrl(url) {\r\n    //this.iab.create(url, \"_self\");\r\n    var target;\r\n\r\n    this.plt.ready().then((readySource) => {\r\n      this.osplatform = this.device.platform;\r\n      if (this.osplatform != null) {\r\n\r\n        this.osplatform = this.osplatform.toLowerCase();\r\n        if (this.osplatform.localeCompare('ios') == 0)\r\n          target = \"_blank\";//android-not ok;IOS-ok\r\n        else\r\n          target = \"_system\";//android-ok;IOS- not ok\r\n      }\r\n      else\r\n        target = \"_blank\";\r\n\r\n      this.iab.create(url, target, this.options);\r\n    });\r\n  }\r\n\r\n  getTpmPdaControllers = (filter, flag) => {\r\n    this.TpmPdaController.find(filter).subscribe((results) => {\r\n      this.log.info(\"Returned value from TpmPdaController.find::\" + results);\r\n      this.TpmPdaControllers = results;\r\n      this.TpmRowCount = results.length;\r\n      // If no rows returned reset driver no entered by user\r\n      if (results.length == 0) {\r\n        this.pdaParams.setDriverInfo(0);\r\n        var prevId = this.pdaParams.getParams().driverId;\r\n        //Create alert        \r\n        if (this.driverId != prevId) {\r\n          let alert = this.alertCtrl.create({\r\n            title: 'Driver',\r\n            message: 'Driver ID is not set. Please call support and then retry!',\r\n            buttons: [\r\n              {\r\n                text: 'OK'\r\n              }\r\n            ],\r\n            enableBackdropDismiss: false\r\n          });\r\n          alert.present();\r\n          this.isDriverSetup = false;\r\n\r\n        } else\r\n          this.isDriverSetup = true;\r\n\r\n      } else\r\n        this.isDriverSetup = true;\r\n\r\n      // TODO - need to ensure we have updated scope so in promise somewhere in TpmPdaController.find ??\r\n      var TpmPdaControllerRow = this.TpmPdaControllers[0];\t\t// should only ever be one\r\n      if (TpmPdaControllerRow) {\r\n        if (TpmPdaControllerRow.tpmpc_access_registered == 'N') {\t\t// not yet registered\r\n          TpmPdaControllerRow.tpmpc_access_registered = 'Y';\r\n          TpmPdaControllerRow.tpmpc_last_update_time = new Date().toISOString();\r\n          this.TpmPdaController.upsert(TpmPdaControllerRow).subscribe();\r\n          this.sharedService.tpmPdaCtlsLoadedSubject.next(true);\r\n        }\r\n\r\n        if (!this.sharedService.desktopTesting) {\r\n          this.storage.set('driverHomeLat', TpmPdaControllerRow.tpmpc_driver_home_lat).then((res) => {\r\n            if (res)\r\n              console.log(\"driverHomeLat is set\");\r\n            else\r\n              console.log(\"driverHomeLat is not set\");\r\n          });\r\n        }\r\n        this.log.info(\"Sqlite Storage : Setting driverHomeLat : \" + TpmPdaControllerRow.tpmpc_driver_home_lat);\r\n        localStorage.setItem('driverHomeLat', TpmPdaControllerRow.tpmpc_driver_home_lat);\r\n        localStorage.setItem('driverHomeLng', TpmPdaControllerRow.tpmpc_driver_home_lng);\r\n        if (!this.sharedService.desktopTesting) {\r\n          this.storage.set('driverHomeLng', TpmPdaControllerRow.tpmpc_driver_home_lng).then((res) => {\r\n            if (res)\r\n              console.log(\"driverHomeLng is set\");\r\n            else\r\n              console.log(\"driverHomeLng is not set\");\r\n          });\r\n        }\r\n\r\n        this.log.info(\"Sqlite Storage : Setting driverHomeLng : \" + TpmPdaControllerRow.tpmpc_driver_home_lng);\r\n\r\n      }\r\n\r\n      if (this.isDriverSetup && flag) {\r\n        this.pdaParams.setDriverInfo(this.driverId);\r\n        this.pdaParams.logoffDriver();\r\n        localStorage.setItem('firstlogin', 'false');\r\n        this.app.getRootNav().setRoot('TabsPage');\r\n        return;\r\n      }\r\n    });\r\n    //return 1;\r\n  };\r\n\r\n\r\n  updateDriverPrompt = () => {\r\n    if (this.firstlogin === 'false') {\r\n      let alert = this.alertCtrl.create({\r\n        title: 'Update Driver',\r\n        message: 'You will have to relogin to update the driver. Do you wish to relogin?',\r\n        buttons: [\r\n          {\r\n            text: 'Relogin',\r\n            handler: () => {\r\n              localStorage.clear();\r\n              if (!this.sharedService.desktopTesting) {\r\n                this.storage.clear();\r\n\r\n                if (this.plt.is('cordova') && (<any>window).sqlitePlugin)\r\n                  this.storage.closeDB();\r\n              }\r\n\r\n              this.app.getRootNav().setRoot(MyApp);\r\n            }\r\n          },\r\n          {\r\n            text: 'Cancel',\r\n            handler: () => {\r\n              //console.log('Cancel clicked');\r\n              return;\r\n            }\r\n          }\r\n        ],\r\n        enableBackdropDismiss: false\r\n      });\r\n      alert.present();\r\n    }\r\n    else {\r\n\r\n      let alert = this.alertCtrl.create({\r\n        title: 'Driver #',\r\n        message: 'Enter the driver number to update',\r\n        inputs: [\r\n          {\r\n            name: 'drivernum',\r\n            placeholder: 'Driver ID'\r\n          },\r\n        ],\r\n        buttons: [\r\n          {\r\n            text: 'Cancel',\r\n            handler: () => {\r\n              //console.log('Cancel clicked');\r\n              return;\r\n            }\r\n          },\r\n          {\r\n            text: 'Update',\r\n            handler: (data) => {\r\n\r\n              this.updateDriver(data.drivernum);\r\n            }\r\n          }\r\n        ],\r\n        enableBackdropDismiss: false\r\n      });\r\n      alert.present();\r\n    }\r\n  }// updateDriverPrompt() ends here\r\n\r\n  updateDriver = (driverId) => {\r\n    //Create alert        \r\n    if (isNaN(driverId)) {\r\n      let alert = this.alertCtrl.create({\r\n        title: 'Driver',\r\n        message: 'Please enter correct Driver ID.',\r\n        buttons: [\r\n          {\r\n            text: 'OK'\r\n          }\r\n        ],\r\n        enableBackdropDismiss: false\r\n      });\r\n      alert.present();\r\n      return;\r\n    }\r\n    this.driverId = driverId;\r\n\r\n    //Save the driverid in sqllite\r\n    if (!this.sharedService.desktopTesting) {\r\n      this.storage.set(\"driverId\", this.driverId).then((res) => {\r\n        if (res)\r\n          console.log(\"driverId is set\");\r\n        else\r\n          console.log(\"driverId is not set\");\r\n      });\r\n    }\r\n    this.log.info(\"Sqlite Storage : Setting driverID : \" + this.driverId);\r\n\r\n    this.pdaParams.setDriverInfo(this.driverId);\r\n    //console.log(\"================The driver id is===================::\" + this.pdaParams.getDriverId());\r\n    // TODO - we need to unregister from push services and reregister with new driver id\r\n    // reset _newfilter as driver id has changed\r\n    var _newfilter = {\r\n      \"where\": { and: [{ \"tpmpc_driver_id\": this.driverId, \"tpmpc_access_allowed\": 'Y', \"tpmpc_access_registered\": { neq: \"Y\" } }] }\r\n    };\r\n    this.filter = Object.assign({}, _newfilter);\r\n    this.getTpmPdaControllers(this.filter, true);\r\n    this.log.info(\"Calling getTpmPdaControllers with filter:\" + JSON.stringify(this.filter));\r\n\r\n  }//updateDriver() ends here\r\n\r\n\r\n  pushDeRegister = function () {\r\n    this.pushService.unRegister();\r\n  }\r\n\r\n  pushRegister = function () {\r\n    this.pushService.registerForPush();\r\n  }\r\n\r\n  logon = function () {\r\n    this.pdaParams.logonDriver();\r\n    this.eventService.sendMsg('LOGON');\r\n    // Dump local storage at logon time - debug aid\r\n    this.messageService.dumpLocalStorage();\r\n  }\r\n\r\n  logoff = function () {\r\n    this.pdaParams.logoffDriver();\r\n    this.eventService.sendMsg('LOGOFF');\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/pda/pda.ts"],"sourceRoot":""}