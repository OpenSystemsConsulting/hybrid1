{"version":3,"sources":["../../src/pages/jsea/jsea.module.ts","../../src/pages/jsea/jsea.ts"],"names":[],"mappings":"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","file":"9.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { JseaPage } from './jsea';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    JseaPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(JseaPage),\r\n  ],\r\n  exports: [\r\n    JseaPage\r\n]\r\n})\r\nexport class JseaPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/jsea/jsea.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, AlertController, Tabs } from 'ionic-angular';\r\n\r\nimport { LoopBackConfig } from '../../../shared/sdk';\r\nimport { JseaDriverQuestionsApi } from '../../../shared/sdk/services/custom/JseaDriverQuestions';\r\n\r\nimport { ConfigServiceProvider } from '../../providers/config-service/config-service';\r\nimport { LogServiceProvider } from '../../providers/log-service/log-service';\r\nimport { PdaparamsServiceProvider } from '../../providers/pdaparams-service/pdaparams-service';\r\nimport { SiteconfigServiceProvider } from '../../providers/siteconfig-service/siteconfig-service';\r\nimport { BaseServiceProvider } from '../../providers/base-service/base-service';\r\nimport { SharedServiceProvider } from '../../providers/shared-service/shared-service';\r\nimport { JseaServiceProvider } from '../../providers/jsea-service/jsea-service';\r\nimport { MessageServiceProvider } from '../../providers/message-service/message-service';\r\nimport { JseaAnswersReplicationServiceProvider } from '../../providers/jsea-answers-replication-service/jsea-answers-replication-service';\r\n\r\n\r\ndeclare const lbclient: any;\r\n\r\n/**\r\n * Generated class for the JseaPage page.\r\n *\r\n * See http://ionicframework.com/docs/components/#navigation for more info\r\n * on Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-jsea',\r\n  templateUrl: 'jsea.html',\r\n})\r\nexport class JseaPage {\r\n\r\n  t: Tabs = this.navCtrl.parent;\r\n  username: any;\r\n  logParams = { site: this.pdaParams.getSiteId(), driver: this.pdaParams.getDriverId(), fn: 'JseaPage' };\r\n  log = this.logger.getInstance(this.logParams);\r\n  pda_jsea_on;\r\n  lpda_jsea_on;\r\n  pda_jsea_both_yn;\r\n  jseaQuestions = [];\r\n  LocalJseaDriverAnswers = lbclient.models.LocalJseaDriverAnswers;\r\n  //jseaAnswers_sync = lbclient.jseaAnswers_sync;\r\n  driverId: number;\r\n  //firstlogin;\r\n  loginFlag = this.pdaParams.isDrvLoggedOn();\r\n  newMessageCount: number;\r\n\r\n  constructor(public navCtrl: NavController, public navParams: NavParams, private configService: ConfigServiceProvider,\r\n    private pdaParams: PdaparamsServiceProvider, private siteConfig: SiteconfigServiceProvider,\r\n    private logger: LogServiceProvider, private base: BaseServiceProvider, private sharedService: SharedServiceProvider,\r\n    private messageService: MessageServiceProvider,\r\n    private jseaService: JseaServiceProvider, private alertCtrl: AlertController,\r\n    private jseaDriverQuestionsApi: JseaDriverQuestionsApi, private jseaAnswersService: JseaAnswersReplicationServiceProvider) {\r\n    this.username = navParams.data;\r\n    //console.log(\"JseaPage loading...\");\r\n\r\n    //console.log(\"this.configService.apiURL from jsea:::\" + this.configService.apiURL);\r\n    LoopBackConfig.setBaseURL(this.configService.apiURL);\r\n    LoopBackConfig.setApiVersion(this.configService.API_VERSION);\r\n\r\n    this.sharedService.messageToDriver.subscribe(payload => {\r\n      this.newMessageCount = this.messageService.getNewMesssageCount();\r\n    });\r\n  }\r\n  ionViewWillEnter() {\r\n\r\n    //set the tab string in shared-service\r\n    this.sharedService.tab = \"JSEA\";\r\n    this.log.info(\"In the JSEA Tab.\");\r\n  }\r\n  ionViewDidEnter() {\r\n    // initialise the current new message count in this scope\r\n    this.newMessageCount = this.messageService.getNewMesssageCount();\r\n\r\n    // this.firstlogin = localStorage.getItem('firstlogin');\r\n    this.driverId = this.pdaParams.getDriverId();\r\n    if (this.sharedService.testing) {\r\n      this.pda_jsea_on = 'Y';\r\n      this.lpda_jsea_on = 'Y';\r\n      this.pda_jsea_both_yn = 'Y';\r\n    }\r\n    else {\r\n      this.pda_jsea_on = this.siteConfig.getSiteConfigValue('PDA_JSEA_ON');\r\n      this.lpda_jsea_on = this.pdaParams.pda_jsea_on ? 'Y' : 'N';\r\n      this.pda_jsea_both_yn = this.siteConfig.getSiteConfigValue('PDA_JSEA_BOTH_YN') === 'Y';\r\n    }\r\n\r\n    if (this.pda_jsea_on != 'Y' && this.lpda_jsea_on != 'Y') {\r\n      let alert = this.alertCtrl.create({\r\n        title: 'Module not installed',\r\n        subTitle: 'This module is not installed.',\r\n        buttons: [{\r\n          text: 'OK',\r\n          handler: () => {\r\n            const navTransition = alert.dismiss();\r\n            //console.log('OK clicked');\r\n            navTransition.then(() => {\r\n              this.t.select(0);\r\n            });\r\n            return false;\r\n          }\r\n        }],\r\n        enableBackdropDismiss: false\r\n      });\r\n      alert.present();\r\n    }\r\n    else {\r\n      var formType = this.jseaService.getServiceFormType();\r\n      var _allfilter = {\r\n        \"where\": { \"jdqType\": formType },\r\n        \"order\": \"jdqOrder ASC\"\r\n      }\r\n      var filter = Object.assign({}, _allfilter);\r\n      this.jseaDriverQuestionsApi.find(filter).subscribe((questsarr) => {\r\n        // TODO - need to check error and only show jobs if no error\r\n        this.jseaQuestions = questsarr;\r\n      });\r\n    }//End of else\r\n  }//End of ionViewDidEnter()\r\n\r\n\r\n  checkJdqResponse = function (jdqCbox, jdqType, jdqOrder, jdqNewForm, jdqNewFormType) {\r\n    // check response when items are changed in case we need to do\r\n    // any additional work e.g. load some more questions\r\n\r\n    if (this.pda_jsea_both_yn) {\r\n      if (jdqCbox === 'Y')\r\n        jdqCbox = true;\r\n      else\r\n        jdqCbox = false;\r\n    }\r\n\r\n    if (jdqCbox) {\t\t\t\t// box has been ticked\r\n      if (jdqNewForm) {\t\t// new form required\r\n        // jdqNewFormType has the type we need\r\n        var filter = {\r\n          \"where\": { \"jdqType\": jdqNewFormType },\r\n          \"order\": \"jdqOrder ASC\"\r\n        };\r\n\r\n        this.jseaDriverQuestionsApi.find(filter)\r\n          .subscribe((questsarr) => {\r\n            var len = questsarr.length;\r\n            for (var i = 0; i < len; i++) {\r\n              this.jseaQuestions.push(questsarr[i]);\r\n            }\r\n          });\r\n      }\r\n    }\r\n    else {\t\t// box unticked - might need to remove additional form data\r\n      if (jdqNewForm) {\t\t// new form required\r\n        for (var i = this.jseaQuestions.length - 1; i >= 0; i--) {\r\n          if (this.jseaQuestions[i].jdqType === jdqNewFormType) {\r\n            this.jseaQuestions.splice(i, 1);\r\n            // break;       //<-- Uncomment  if only the first term has to be removed\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  doSubmitWork = function () {\r\n    var li;\r\n    var llen;\r\n    var jseaObj = {\r\n      jobNumber: '',\r\n      jobBookingDay: '',\r\n      jobStatusType: '',\r\n      formLeg: ''\r\n    };\r\n    //They Have Submited a list of Ticks Y/N and we now have to create an array of answers\r\n    // one row for each answer\t\r\n    var ljobnum = jseaObj.jobNumber = this.jseaService.getServiceJobNum();\r\n    var ljobdate = jseaObj.jobBookingDay = this.jseaService.getServiceJobDate();\r\n    var jobStatusType = jseaObj.jobStatusType = this.jseaService.getServiceStatusType();\r\n    var formLeg = jseaObj.formLeg = this.jseaService.getServiceFormLeg();\r\n    var submitTime = Date.now();\r\n\r\n    llen = this.jseaQuestions.length;\r\n\r\n    for (li = 0; li < llen; li++) {\r\n      var AnswerSession = new lbclient.models.LocalJseaDriverAnswers();\r\n      AnswerSession.jdaSeqnum = 0;\r\n      AnswerSession.jdaJobNum = ljobnum;\r\n      AnswerSession.jdaJobBday = ljobdate;\t\t// is a date object already \r\n      AnswerSession.jdaDriverId = this.pdaParams.getDriverId();\r\n      AnswerSession.jdaFormType = this.jseaQuestions[li].jdqType;\r\n      AnswerSession.jdaFormLeg = formLeg;\r\n      AnswerSession.jdaOrder = this.jseaQuestions[li].jdqOrder;\r\n\r\n      if (this.pda_jsea_both_yn) {\r\n        // When both buttons present they are Y/N - convert to boolean\r\n        if (this.jseaQuestions[li].jdqCbox === 'Y')\r\n          AnswerSession.jdaCheckBox = true;\r\n        else\r\n          AnswerSession.jdaCheckBox = false;\r\n      }\r\n      else\r\n        AnswerSession.jdaCheckBox = this.jseaQuestions[li].jdqCbox;\r\n\r\n      AnswerSession.jdaJobStatusType = jobStatusType;\r\n      // store a timestamp of when answer saved\r\n      AnswerSession.jdaSubmitTime = submitTime;\r\n      AnswerSession.save();\r\n    }\r\n\r\n    if (jobStatusType == 'PICKUP' || jobStatusType == 'DELIVER') {\r\n      //this.$emit('jseaSaved', jseaObj);\r\n      var key = jseaObj.jobNumber + '-' + jseaObj.jobStatusType;\r\n      localStorage.setItem(key, 'Y');\r\n    }\r\n\r\n\r\n    this.jseaAnswersService.jseaAnswers_sync();\r\n  }\r\n\r\n\r\n  jseaSubmit = function () {\r\n\r\n    // check all questions have a Y or N answer before allowing submission\r\n    if (!this.validateJseaAnswers()) {\r\n      return;\r\n    }\r\n\r\n    let subconfirmPopup = this.alertCtrl.create({\r\n      title: 'Jsea Session Confirm',\r\n      message: 'Are you sure you want to submit your Answers session to the database ?',\r\n      buttons: [\r\n        {\r\n          text: 'Yes',\r\n          handler: () => {\r\n            const navTransition = subconfirmPopup.dismiss().catch(() => { });;\r\n            this.log.debug('User has Submitted the Jsea session');\r\n            this.jseaService.setJseaIsCaptured(\"Y\");\r\n            //Handle Answers\r\n            this.doSubmitWork();\r\n            navTransition.then(() => {\r\n              //this.navCtrl.setRoot(TabsPage);\r\n              if (this.sharedService.localStorageZapped)\r\n                this.pdaParams.fullReplication = true;\r\n\r\n              this.t.select(0);\r\n            });\r\n\r\n            return false;\r\n          }\r\n        },\r\n        {\r\n          text: 'No',\r\n          handler: () => {\r\n            this.log.debug('User has CANCELLED out of a Jsea session SUBMIT Doing nothing');\r\n            return;\r\n          }\r\n        }\r\n      ],\r\n      enableBackdropDismiss: false\r\n    });\r\n    subconfirmPopup.present();\r\n  }\r\n\r\n  jseaCancel = function () {\r\n    let confirmPopup = this.alertCtrl.create({\r\n      title: 'CANCEL Jsea Session',\r\n      message: 'Are you sure you want to CANCEL this jsea session (You will lose all data )?',\r\n      buttons: [\r\n        {\r\n          text: 'Yes',\r\n          handler: () => {\r\n            const navTransition = confirmPopup.dismiss();\r\n            this.log.debug('User has Cancelled the jsea session');\r\n            navTransition.then(() => {\r\n              this.t.select(0);\r\n            });\r\n            return false;\r\n          }\r\n        },\r\n        {\r\n          text: 'No',\r\n          handler: () => {\r\n            this.log.debug('User has CANCELLED out of a Jsea session CANCEL');\r\n          }\r\n        }\r\n      ],\r\n      enableBackdropDismiss: false\r\n    });\r\n    confirmPopup.present();\r\n  }\r\n\r\n  // check all questions have either a Y or N answer before allowing submission\r\n  validateJseaAnswers = () => {\r\n    var retval = true;\r\n    var llen = this.jseaQuestions.length;\r\n\r\n    var checked;\r\n    if (!this.pda_jsea_both_yn)\t\t\t// not checking both Y/N - old single radio button\r\n      return true;\r\n\r\n    // jdqCbox is a boolean and comes in by default as either true or more normally false\r\n    // The form will set the value to either 'Y' or 'N' once a radio button has been checked\r\n    for (var li = 0; li < llen; li++) {\r\n      checked = this.jseaQuestions[li].jdqCbox;\r\n\r\n      if (checked !== 'N' && checked !== 'Y') {\r\n        // nothing explicitly checked so alert that all questions must be answered\r\n        var alertPopup = this.alertCtrl.create({\r\n          title: 'You must answer all questions',\r\n          message: this.jseaQuestions[li].jdqQuestionText,\r\n          buttons: [{\r\n            text: 'OK',\r\n            handler: () => {\r\n              const navTransition = alertPopup.dismiss();\r\n              return false;\r\n            }\r\n          }],\r\n          enableBackdropDismiss: false\r\n        });\r\n        alertPopup.present();\r\n        return false;\r\n      }\r\n    }\r\n\r\n    for (var li = 0; li < llen; li++) {\r\n      var checked = this.jseaQuestions[li].jdqCbox;\r\n      if (checked === 'N' && !this.jseaQuestions[li].jdqAllowNo) {\r\n        // 'N\" has been checked on a question that does not allow it - alert\r\n        var confirmPopup = this.alertCtrl.create({\r\n          title: 'Have you filled in a full paper JSEA?',\r\n          message: 'You have answered no to 1 or more questions that are not allowed to be no.  By clicking OK you are confirming that you have filled out a full PAPER JSEA',\r\n          buttons: [\r\n            {\r\n              text: 'OK',\r\n              handler: () => {\r\n                const navTransition = confirmPopup.dismiss();\r\n                this.log.info('User has been warned and confirmed OK to submit');\r\n                this.jseaService.setJseaIsCaptured(\"Y\");\r\n                //Handle Answers\r\n                this.doSubmitWork();\r\n                navTransition.then(() => {\r\n                  this.t.select(0);\r\n                });\r\n                return false;\r\n              }\r\n            },\r\n            {\r\n              text: 'Cancel',\r\n              handler: () => {\r\n                this.log.debug('User has CANCELLED out of a Jsea session warning doing nothing');\r\n                return true;\r\n              }\r\n            }\r\n          ],\r\n          enableBackdropDismiss: false\r\n        });\r\n        confirmPopup.present();\r\n        return false;\r\n      }\r\n    }\r\n    return retval;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/jsea/jsea.ts"],"sourceRoot":""}