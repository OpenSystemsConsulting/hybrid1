<ion-view title="{{devicectrl.title}}" ng-controller="deviceCtrl">
  <!-- <ion-content padding="true"> -->
  <ion-content ng-class="{ 'overflow-scroll': (desktopBrowserScrolling == true) }">
	<ion-list>

	<div class="item item-divider">
		Driver Number: {{devicectrl.drivernum}}
	</div>
	<ion-item class="item item-text-wrap" >
		<h2>** WARNING **</h2>
		<p>Do not change any of these values unless advised by support</p>
	</ion-item>
<!--
	<ion-item class="item item-icon-right">
		Driver Number:
		<span class="item-note">
			{{devicectrl.drivernum}}
		</span>
	</ion-item>
-->

	<div class="item item-divider">
		App properties - v{{version}}
	</div>
	<ion-item class="item" >
		Version
		<span class="item-note">
			{{version}}
		</span>
	</ion-item>

	<ion-item class="item" >
		Build
		<span class="item-note">
			{{build}}
		</span>
	</ion-item>

	<ion-checkbox class="item-checkbox-right" ng-checked="{{devicectrl.isDeviceReady}}" ng-disabled="true">
		Device Ready
	</ion-checkbox>

	<ion-checkbox class="item-checkbox-right" ng-checked="{{devicectrl.registeredForPush}}" ng-disabled="true">
		Reg'd For Push 
	</ion-checkbox>
	<ion-item class="item item-button-right" >
		Register for Push
		<button class="button button-positive" ng-click="pushRegister()">
			Register
		</button>
	</ion-item>

	<ion-item class="item item-button-right" >
		UnRegister from Push
		<button class="button button-light" ng-click="pushDeRegister()">
			UnRegister
		</button>
	</ion-item>

    <ion-item class="item item-button-right" >
        Clear Navigator Preference
        <button class="button button-positive" ng-click="clearNavUserChoice()">
            Clear
        </button>
    </ion-item> 


	<ion-checkbox class="item-checkbox-right" ng-model="desktopBrowserScrolling" ng-change="toggleDesktopBrowserScrolling()">
		Desktop Scrolling Mode
	</ion-checkbox>

	<ion-checkbox class="item-checkbox-right" ng-model="pdaParams.multileg" >
		Multileg
	</ion-checkbox>

	<ion-checkbox class="item-checkbox-right" ng-model="pdaParams.jobdisplay" >
		Local job display
	</ion-checkbox>

	<ion-checkbox class="item-checkbox-right" ng-model="pdaParams.multiSelect" >
		Multi job select
	</ion-checkbox>

	<ion-checkbox class="item-checkbox-right" ng-model="pdaParams.jobDetailOneDayOnly" >
		Query one date only
	</ion-checkbox>

	<ion-checkbox class="item-checkbox-right" ng-model="pdaParams.imageUpload" >
		Auto image upload
	</ion-checkbox>

	<ion-checkbox class="item-checkbox-right" ng-model="this.checked" ng-change="setStatusBarOverlay()">
		Status bar overlays WebView
	</ion-checkbox>

	<ion-checkbox class="item-checkbox-right" ng-model="pdaParams.showLoading" >
		Show loading messages
	</ion-checkbox>

	<ion-item class="item item-button-right" >
		View change data
		<a class="button button-positive" href="#/tab/change">
			View data
		</a>
	</ion-item>

	<ion-checkbox class="item-checkbox-right" ng-model="pdaParams.debugMode" ng-change="pdaParams.setDebugMode(pdaParams.debugMode)">
		Debug Mode
	</ion-checkbox>

	<ion-checkbox ng-if="pdaParams.debugMode" class="item-checkbox-right" ng-model="fullreplication" ng-change="toggleFullReplication()">
		Full Replication
	</ion-checkbox>

	<ion-checkbox class="item-checkbox-right" ng-model="pdaParams.experimental" >
		Enable experimental features
	</ion-checkbox>

	<ion-checkbox ng-if="pdaParams.experimental" class="item-checkbox-right" ng-model="pdaParams.pda_deliver_all" >
		Mutliple deliveries one POD
	</ion-checkbox>

	<ion-checkbox ng-if="pdaParams.experimental" class="item-checkbox-right" ng-model="pdaParams.pda_full_statuses" >
		Additional job statuses
	</ion-checkbox>

	<ion-checkbox ng-if="pdaParams.experimental" class="item-checkbox-right" ng-model="pdaParams.pda_images" >
		Images
	</ion-checkbox>

	<ion-checkbox ng-if="pdaParams.experimental" class="item-checkbox-right" ng-model="pdaParams.pda_notes" >
		Notes
	</ion-checkbox>

	<ion-checkbox ng-if="pdaParams.experimental" class="item-checkbox-right" ng-model="pdaParams.syncDL" >
		Sync DL
	</ion-checkbox>

	<ion-checkbox ng-if="pdaParams.experimental" class="item-checkbox-right" ng-model="pdaParams.pda_jsea_on" >
		JSEA applicable
	</ion-checkbox>

	<ion-checkbox ng-if="pdaParams.experimental" class="item-checkbox-right" ng-model="pdaParams.pda_mandatory_photos" >
		Mandatory Photos
	</ion-checkbox>

	<!-- TODO - make this editable -->
	<ion-item class="item" ng-if="pdaParams.experimental">
		Image poll time
		<span class="item-note">
			{{pdaParams.imagePollTime}}
		</span>
	</ion-item>

	<span ng-if="pdaParams.debugMode">
		<div class="item item-divider">
			Config
		</div>
		<ion-item class="item" >
			Client ID
			<span class="item-note">
				{{clientConfig.clientId}}
			</span>
		</ion-item>
		<ion-item class="item" >
			Server IP
			<span class="item-note">
				{{clientConfig.serverIP}}:{{clientConfig.serverPort}}
			</span>
		</ion-item>
		<ion-item class="item" >
			Logger IP
			<span class="item-note">
				{{appConfig.logServerIP}}:{{appConfig.logServerPort}}
			</span>
		</ion-item>
		<div class="item item-divider">
			Device Reset
		</div>
		<ion-item class="item item-button-right" >
			Reset app (deletes all data)
			<button class="button button-assertive" ng-click="resetApp()">
				Reset
			</button>
		</ion-item>
		<ion-item class="item item-button-right" >
			Clear change data
			<button class="button button-positive" ng-click="clearChangeData()">
				Clear
			</button>
		</ion-item>
		<ion-item class="item item-button-right" >
			Delete old jobs
			<button class="button button-assertive" ng-click="deleteOldJobs()">
				Delete
			</button>
		</ion-item>
		<ion-item class="item item-button-right" >
			Delete old JSEA
			<button class="button button-assertive" ng-click="deleteOldJSEA()">
				Delete
			</button>
		</ion-item>
		<ion-item class="item item-button-right" >
			SOD testing - clear date
			<button class="button button-positive" ng-click="clearSODDate()">
				Clear
			</button>
		</ion-item>
		<ion-item class="item item-button-right" >
			SOD testing - set date yesterday
			<button class="button button-positive" ng-click="setSODDate()">
				Set
			</button>
		</ion-item>
		<ion-item class="item item-button-right" >
			Keep awake
			<button class="button button-positive" ng-click="keepAwake()">
				Keep awake
			</button>
		</ion-item>
		<ion-item class="item item-button-right" >
			Allow sleeping
			<button class="button button-positive" ng-click="allowSleepAgain()">
				Allow sleeping
			</button>
		</ion-item>
	</span>

	<div class="item item-divider">
		Database
	</div>
	<ion-item class="item item-button-right" >
		Reload Site Config
		<button class="button button-positive" ng-click="reloadSiteConfig()">
			Reload
		</button>
	</ion-item>

	<ion-item class="item" >
		Local Storage usage
		<span class="item-note">
			{{usedStorage}}
		</span>
	</ion-item>

	<ion-item class="item" ng-repeat="(key, value) in localStorageList">
		{{key}}
		<span class="item-note">
			{{value}}
		</span>
	</ion-item>
<!-- 
	<ion-item class="item" ng-repeat="storage in localStorageList">
		{{storage.key}}
		<span class="item-note">
			{{storage.value}}
		</span>
	</ion-item>
-->

	<div class="item item-divider">
		Network properties
	</div>

	<ion-checkbox class="item-checkbox-right" ng-model="isConnected" ng-model-options="{ getterSetter: true }" ng-change="toggleNetworkConnection()" >
		Connected
	</ion-checkbox>

	<ion-checkbox class="item-checkbox-right" ng-checked="{{isOnline}}" ng-disabled="true">
		Online
	</ion-checkbox>

	<ion-item class="item" >
		Network type
		<span class="item-note">
			{{networkType}}
		</span>
	</ion-item>

<!--
	<ion-item class="item" >
		IP address
		<span class="item-note">
			{{IPAddress}}
		</span>
	</ion-item>
-->

	<div class="item item-divider">
		GPS properties
	</div>
	<ion-checkbox class="item-checkbox-right" ng-model="devicectrl.isGpsWorking" ng-model-options="{ getterSetter: true }" ng-change="update_isGpsWorking(devicectrl.isGpsWorking)">
		GPS Active
	</ion-checkbox>

	<ion-checkbox class="item-checkbox-right" ng-model="devicectrl.showGpsAlerts" ng-change="updateShowGpsAlerts(devicectrl.showGpsAlerts)">
		Show GPS Alerts
	</ion-checkbox>

	<ion-checkbox class="item-checkbox-right" ng-model="devicectrl.sendGps" ng-change="updateSendGps(devicectrl.sendGps)">
		GPS To Server
	</ion-checkbox>

	<ion-checkbox class="item-checkbox-right" ng-model="pdaParams.alwaysGetGPS" >
		Always attempt foreground GPS even if logged off
	</ion-checkbox>

	<!-- background GPS section -->
	<div class="item item-divider">
		Background GPS
	</div>
	<ion-item class="item item-button-right" >
		Show App Settings
		<button class="button button-positive" ng-click="showAppSettings()">
			App Settings
		</button>
	</ion-item>
	<ion-item class="item item-button-right" >
		Show Location Settings
		<button class="button button-positive" ng-click="showLocationSettings()">
			Loc Settings
		</button>
	</ion-item>
	<ion-checkbox class="item-checkbox-right" ng-model="bgGPSstarted" ng-model-options="{ getterSetter: true }" ng-change="toggleBackgroundGPS(bgGPSstarted)">
		Start/Stop background GPS
	</ion-checkbox>

	<ion-item class="item item-select">
		Accuracy (current {{pdaParams.gps_desiredAccuracy}})
		<select name="accuracy" ng-model="pdaParams.gps_desiredAccuracy">
			<option>0</option>
			<option>10</option>
			<option>100</option>
			<option>1000</option>
		</select>
	</ion-item>

	<ion-item class="item">
		Stationary Radius in metres: {{pdaParams.gps_stationaryRadius}}
		<input class="floatRight" type="range" name="radius" ng-model="pdaParams.gps_stationaryRadius" min="0" max="1000">
	</ion-item>

	<ion-item class="item">
		Stationary Radius in metres: {{pdaParams.gps_stationaryRadius}}
		<div class="floatRight">
			<button class="button icon ion-minus-circled red" ng-click="subRadius()">
			<button class="button icon ion-plus-circled green" ng-click="addRadius()">
		</div>
	</ion-item>

	<ion-item class="item">
		Min horiz distance in metres: {{pdaParams.gps_distanceFilter}}
		<input class="floatRight" type="range" name="radius" ng-model="pdaParams.gps_distanceFilter" min="0" max="1000">
	</ion-item>

	<ion-item class="item">
		Min horiz distance in metres: {{pdaParams.gps_distanceFilter}}
		<div class="floatRight">
			<button class="button icon ion-minus-circled red" ng-click="subDistance()">
			<button class="button icon ion-plus-circled green" ng-click="addDistance()">
		</div>
	</ion-item>

	<ion-item class="item">
		Min update interval (secs) (Android): {{pdaParams.gps_interval/1000}}
		<div class="floatRight">
			<button class="button button-positive" ng-click="zeroInterval()"> Zero </button>
			<button class="button icon ion-minus-circled red" ng-click="subInterval()">
			<button class="button icon ion-plus-circled green" ng-click="addInterval()">
			<button class="button button-positive" ng-click="defaultInterval()"> Default </button>
		</div>
	</ion-item>

	<ion-checkbox class="item-checkbox-right" ng-model="pdaParams.gps_debug" ng-change="pdaParams.setGpsDebug(pdaParams.gps_debug)">
		GPS Debug (sounds)
	</ion-checkbox>

	<ion-item class="item item-select">
		iOS
		<select name="activity" ng-model="pdaParams.gps_activityType">
			<option>AutomotiveNavigation</option>
			<option>OtherNavigation</option>
			<option>Fitness</option>
			<option>Other</option>
		</select>
	</ion-item>

	<!-- end section -->


	<div class="item item-divider">
		Device properties
	</div>
	<ion-item class="item" ng-repeat="(key, value) in device">
		{{key}}
		<span class="item-note">
			{{value}}
		</span>
	</ion-item>

	</ion-list>
  </ion-content>
</ion-view>
